extends base.pug

block content
    div#app.container
        h1 Memo to Trello
        div.panels
            div.panel.hint
                h3 Hint
                div
                    p #[strong ::card title]

                    p Everything in the line after double colon will be the card title. The rest is the description, if longer than 5 characters.
                div
                    p #[strong @username] | #[strong @initials]
                    p Add a member to the card
                div
                    p #[strong #label]
                    p Add label to the card
                div
                    p #[strong $due:]#[em YYYY-MM-DD]
                    p Due date of card

            div.panel
                div
                    h3 Your memo
                    textarea#memo-text(
                        rows=20
                        v-on:input='parseInput'
                        placeholder='Insert your memo here'
                        ref='text'
                    )

            div.panel.preview
                div
                    h3 Preview
                    div(v-if='cards.length === 0') #[small There are no cards in the memo.]
                    div(v-else)
                        div.card-preview
                            trello-card(v-for='card in cards' v-bind:card='card')
                div
                    label(for='listSelect') Select list
                    select(name='listSelect' v-model='selectedList')
                        option(disabled value='') Please select a list
                        option(v-for='list in lists' v-bind:value='list') {{ list.name }}
                    br
                    small(v-if='selectedList.name') Cards will be added to the top of #[strong {{ selectedList.name }}].
                    small(v-else) Select the list where you want to add the cards.
                div
                    div(v-if='message')
                        span(style='margin:auto') {{ message }}
                    button.mod-primary(
                        v-else
                        v-on:click='createCards'
                        v-bind:disabled='buttonDisabled'
                    ) {{ buttonText }}
