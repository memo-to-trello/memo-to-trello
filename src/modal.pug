extends base.pug

block content
    div#app.container
        h1 Memo to Trello
        div.panels
            div.panel
                h3 Hint
                p Use these symbols to mark cards and their elements:
                div
                    p #[strong ::card title]

                    p Everything in the same line after the double colon will be treated as the card title.
                    p Anything before a new #[em ::card title] or the end of text will be treated as the description of the card, if longer than 5 characters.
                div
                    p #[strong @username] or #[strong @initials]
                    p Add a member to the card
                div
                    p #[strong #label]
                    p Add label to the card
                div
                    p #[strong $due:]#[em date]
                    p Due date of card (date should be in YYYY-MM-DD format)

            div.panel
                div
                    h3 Your memo
                    textarea#memo-text(
                        rows=20
                        v-on:input='parseInput'
                        placeholder='Insert your memo here'
                    )

            div.panel
                div
                    span {{ cards }}
                    h3 Preview
                    div(v-if='cards.length === 0') #[small There are no cards in the memo.]
                    div(v-else)
                        div.card-preview
                            trello-card(v-for='card in cards' v-bind:card='card')
                div
                    label(for='listSelect') Select list
                    select(name='listSelect' v-model='selectedList')
                        option(disabled value='') Please select a list
                        option(v-for='list in lists' v-bind:value='list') {{ list.name }}
                    br
                    small(v-if='selectedList.name') Cards will be added to the top of #[strong {{ selectedList.name }}].
                    small(v-else) Select the list where you want to add the cards.
                div
                    div(v-if='message')
                        span(style='margin:auto') {{ message }}
                    button.mod-primary(
                        v-else
                        v-on:click='createCards'
                        v-bind:disabled='buttonDisabled'
                    ) {{ buttonText }}
