extends base.pug

block content
    div#app.container
        //- h1 Memo to Trello
        div.panels
            div.panel.hint
                h3 Hint
                div.hint-text
                    p
                        ol(type='1')
                            li Copy or type your memo in the box.
                            li Use the simple markup to convert it to Trello cards.
                            li Select the list where you want to add the cards.
                            li Click the button.
                            li Enjoy!
                    p #[strong Symbols:]
                    p #[code ::card title]: Everything in the first line after the double colon will be the card title. The rest is the description, if longer than 5 characters.
                    p #[code @username] or #[code @initials]: Add a member to the card
                    p #[code #label]: Add label to the card
                    p #[code $due: YYYY-MM-DD]: Due date of card (first occurence will be used).
                    p
                        small
                            em #[strong Note: ] Labels and members should be already added to the board.

            div.panel
                h3 Your memo
                textarea#memo-text(
                    v-on:input='parseInput'
                    placeholder='Insert your memo here'
                    ref='text'
                )

            div.panel
                h3 Preview
                   small.no-cards &nbsp;- {{ cardCountText }}
                div.preview-list
                    div.card-preview(v-if='cards.length > 0')
                        trello-card(v-for='card in cards' v-bind:card='card' v-bind:key='card.raw')
                div.controls
                    label(for='listSelect') Select list
                    select(name='listSelect' v-model='selectedList')
                        option(disabled value='') Please select a list
                        option(v-for='list in lists' v-bind:value='list') {{ list.name }}
                    br
                    small(v-if='selectedList.name') Cards will be added to the top of #[strong {{ selectedList.name }}].
                    small(v-else) Select the list where you want to add the cards.
                    div
                        button.mod-primary(
                            v-on:click='createCards'
                            v-bind:disabled='buttonDisabled'
                        ) {{ buttonText }}
                div.message(v-if='message')
                    h5 ðŸ˜± Oops... Something went sideways
                    p Sorry to let you down, but this happened:
                    |
                    pre.error {{ message }}
